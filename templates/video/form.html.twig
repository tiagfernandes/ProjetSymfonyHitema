{% extends 'base.html.twig' %}

{% block title %}

{% endblock %}

{% block body %}
    <h1>
        {% if 'create' in route %}
            Ajouter une vidéo
        {% elseif 'update' in route %}
            Modifier une vidéo
        {% endif %}</h1>

    {{ form_start(form) }}
    <div class="form-group">
        <div class="form-group">
            {{ form_label(form.name) }}
            {{ form_widget(form.name) }}
        </div>
        <div class="form-group">
            {{ form_label(form.comment) }}
            {{ form_widget(form.comment) }}
        </div>
        <div class="form-group">
            {{ form_label(form.rowImage) }}
            {{ form_widget(form.rowImage) }}
        </div>
        <div class="form-group">
            {{ form_label(form.dtRelease) }}
            {{ form_widget(form.dtRelease) }}
        </div>
        <div class="form-group">
            {{ form_label(form.filmmakers) }}
            {{ form_widget(form.filmmakers) }}
        </div>
        <div class="form-group">
            {{ form_label(form.actors) }}
            {{ form_widget(form.actors) }}
        </div>
        <div class="form-group">
            {{ form_label(form.genres) }}
            {{ form_widget(form.genres) }}
        </div>
        <div class="form-group">
            {{ form_label(form.type) }}
            {{ form_widget(form.type) }}
        </div>
        <div class="form-group">
            {{ form_label(form.urlTrailer) }}
            {{ form_widget(form.urlTrailer) }}
        </div>
        <div class="form-group">
            {{ form_label(form.requiredAge) }}
            {{ form_widget(form.requiredAge) }}
        </div>
        <div class="form-group">
            {{ form_label(form.price) }}
            {{ form_widget(form.price) }}
        </div>

    </div>
    <button class="btn btn-success">
        {% if 'create' in route %}
            Ajouter
        {% elseif 'update' in route %}
            Modifier
        {% endif %}
    </button>
    {{ form_end(form) }}
{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <script>
        $(function () {
            $('#video_rowImage').on('change', function () {
                let fileName = $(this).val().split('\\').pop();
                $(this).siblings('.custom-file-label').addClass('selected').html(fileName);
            });
        });
    </script>
{% endblock %}